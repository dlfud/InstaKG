<!DOCTYPE html>
<html layout:decorate="~{layout}" xmlns="http://www.w3.org/1999/html">
<div layout:fragment="content">

    <section class="main">
        <!-- 상단 네비바 내용물 관련 -->
        <div>
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container justify-content-center">
                    <div class="d-flex flex-row justify-content-between align-items-center col-9">
                        <!-- InstaKG 로고 들어갈 부분 조절 가능-->
                        <a class="navbar-brand" th:href="@{/board/list}">InstaKG
                            <!-- <img th:src="@{img/MainLogo2.png}" alt="InstaKG" loading="lazy"> -->
                        </a>
                        <div>
                            <!-- 검색 -->
                            <form class="d-flex">
                                <input class="form-control me-2" type="search" placeholder="search" aria-label="search">
                            </form>
                        </div>
                        <div class="d-flex flex-row">
                            <!-- 아이콘 리스트 -->
                            <ui class="list-inline m-0">
                                <!-- 집(홈) 아이콘-->
                                <li class="list-inline-item">
                                    <a href="#" class="link-dark">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5em"
                                             fill="currentColor"
                                             class="bi bi-house-door-fill" viewBox="0 0 16 16">
                                            <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z"/>
                                        </svg>
                                    </a>
                                </li>

                                <!-- DM 아이콘 -->
                                <li class="list-inline-item ms-2">
                                    <a href="#" class="link-dark">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5em"
                                             fill="currentColor"
                                             class="bi bi-send" viewBox="0 0 16 16">
                                            <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"/>
                                        </svg>
                                    </a>
                                </li>
                                <!-- 나침반 아이콘 -->
                                <li class="list-inline-item ms-2">
                                    <a href="#" class="link-dark">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5em"
                                             fill="currentColor"
                                             class="bi bi-compass" viewBox="0 0 16 16">
                                            <path d="M8 16.016a7.5 7.5 0 0 0 1.962-14.74A1 1 0 0 0 9 0H7a1 1 0 0 0-.962 1.276A7.5 7.5 0 0 0 8 16.016zm6.5-7.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                                            <path d="m6.94 7.44 4.95-2.83-2.83 4.95-4.949 2.83 2.828-4.95z"/>
                                        </svg>
                                    </a>
                                </li>
                                <!-- 사람 아이콘-->
                                <li class="list-inline-item ms-2">
                                    <a href="#" class="link-dark">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5em"
                                             fill="currentColor"
                                             class="bi bi-person-circle" viewBox="0 0 16 16">
                                            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                                            <path fill-rule="evenodd"
                                                  d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                                        </svg>
                                    </a>
                                </li>
                                <li class="list-inline-item align-middle ms-2">
                                    <a href="#">
                                        <div class="rounded-circle overflow-hidden d-flex justify-content-center align-items-center topbar-profile-photo">
                                            <!-- 상단바 프로필사진 -->
                                            <img th:src="@{/img/basic-profile-image.png}"
                                                 style="transform: scale(1.5); width: 100%; position: absolute; left: 0"/>
                                        </div>
                                    </a>
                                </li>
                            </ui>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
        <!-- 상단바 네비바 내용물 관련 끝 -->
        <!-- 상단 친구목록? 내용물 관련 -->
        <div class="mt-4"> <!-- 네비바와 거리띄우기 -->
            <div class="container d-flex justify-content-center">
                <div class="col-9">
                    <div class="row border">
                        <div class="col-8 p-0">
                            <!--게시물 관련 시작-->
                            <!-- 사용자 정보 시작-->
                            <div class="d-flex flex-column mb-4" th:each="board : ${board}">
                                <div class="card">
                                    <div class="card-header">
                                        <div class="d-flex flex-row align-items-center justify-content-between">
                                            <div class="d-flex align-items-center ms-2">
                                                <div class="rounded-circle overflow-hidden d-flex justify-content-center align-items-center border border-danger post-profile-photo me-3">
                                                    <!-- 게시물 프로필사진 -->
                                                    <img th:src="@{/img/basic-profile-image.png}"
                                                         style="transform: scale(1.5); width: 100%; position: absolute; left: 0"/>
                                                </div>
                                                <div class="d-flex justify-content-start">
                                                    <span class="fw-bold">꼬솜우비</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ps-3 pe-3 pt-3 pb-1"></div>
                                    <!-- 사용자 정보 끝-->
                                    <!--사진 시작-->
                                    <div class="card-body p-0">
                                        <div class="swiper mySwiper">
                                            <div class="swiper-wrapper">
                                                <div class="swiper-slide" th:each="image : ${board.fileList}">
                                                    <img th:if="${image.fileName.contains('jpg')}"
                                                         class="ratio ratio-1x1"
                                                         th:src="'/uploadFiles/'+${image.fileName}" alt="img">
                                                    <video th:unless="${image.fileName.contains('jpg')}"
                                                           class="ratio ratio-1x1" controls
                                                           th:src="'/uploadFiles/'+${image.fileName}"></video>
                                                </div>
                                            </div>
                                            <div class="swiper-button-next"></div>
                                            <div class="swiper-button-prev"></div>
                                            <div class="swiper-pagination"></div>
                                        </div>
                                        <div class="ps-3 pe-3 pt-3 pb-1"></div>
                                        <div class="d-flex ps-3 pe-3 pb-1"></div>
                                    </div>
                                    <!--사진 끝-->
                                </div>
                            </div>
                        </div>
                        <!-- 게시물 관련 끝-->



                        <div class="col-4 p-0">
                            <!--내용 시작-->
                            <div class="bg-light text-dark">
                                <div class="card-body">
                                    <div class="card-text" style="white-space: pre-line;" th:text="${board.content}"></div>
                                    <div th:text="${#temporals.format(board.createDate, 'M월 d일')}"></div>
                                </div>
                            </div>
                            <!--내용 끝-->

                            <!-- 댓글 시작 -->

                            <!-- 댓글 끝 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </section>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-body center">

                    <a href="" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal" data-bs-dismiss="modal">
                        <div>
                            삭제
                        </div>
                    </a>
                    <hr>


                    <a href="javascript:move('/comment/modify/');">
                        <div>
                            수정
                        </div>
                    </a>

                    <hr>

                    <a href="" data-bs-dismiss="modal">
                        <div>
                            취소
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- modal 2 -->
    <div class="modal fade" id="exampleModalToggle2" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2"
         tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    삭제하시겠습니까?
                </div>
                <div class="modal-body center">
                    <a href="javascript:move('/comment/delete/');">
                        <div>
                            확인
                        </div>
                    </a>
                    <hr>
                    <a href="" data-bs-dismiss="modal">
                        <div>
                            취소
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>

</div>


<script layout:fragment="script" type='text/javascript'>
    var swiper = new Swiper(".mySwiper", {
        spaceBetween: 30,
        centeredSlides: true,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });




//modal에 정보전달
$('#exampleModal').on('show.bs.modal', function (e) {
    var answerId = $(e.relatedTarget).data('id');
    var answerContent = $(e.relatedTarget).data('content');
	sessionStorage.setItem("answer_id", answerId);
	sessionStorage.setItem("answer_content", answerContent);
});

function move(url){
    location.href = url+sessionStorage.getItem("answer_id");
    sessionStorage.removeItem("answer_id");
}
//파일이름 쪼개기


</script>
<!-- 자바스크립트 -->
</html>